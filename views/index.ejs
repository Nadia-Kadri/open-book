<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Open Book</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="styles/main.css">
</head>

<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-sm fixed-top">
    <div class="container-sm container-media-query">
      <a class="navbar-brand" href="#header">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-bookmark-heart" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M8 4.41c1.387-1.425 4.854 1.07 0 4.277C3.146 5.48 6.613 2.986 8 4.412z"/>
          <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"/>
        </svg>
        <!-- <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
          <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"/>
        </svg> -->
        Openbook
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse float-end" id="navbarNavAltMarkup">
        <ul class="navbar-nav ms-auto">
          <li><a class="nav-link" href="#header">Home</a></li>
          <li><a class="nav-link" href="/quotes">Quotes</a></li>
          <li><a class="nav-link" href="/contact">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Header -->
  <section id="header">
    <div class="container-sm container-media-query">
      <div class="row">
        <div class="col-lg-3">
          <img class="img-fluid" src="assets/images/header.png" alt="memoji" width="250px">
        </div>
        <div class="col-lg-9">
          <h1>Nadia's Bookshelf</h1>
          <hr>
          <p>An ongoing collection of books I've read with to the point summaries and my honest reviews for each! Books are searchable via ISBN to locate copies at your local library or elsewhere. I aim to read at least one book per month, so don't hesitate to bookmark this page for continual updates on my expanding literary journey. Top picks are showcased upfront, and you can sort by title, latest additions, or ratings. If you have any questions, be sure to check out the Contact page.</p>
        </div>
      </div>
    </div>
  </section>

  <div class="container-sm container-media-query">
    <!-- Books -->
    <section id="books">
      <div>
        Sort By:
          <a href="/?sort=title">title</a>, 
          <a href="/?sort=date">date</a>, 
          <a href="/?sort=rating">rating</a>
      </div>
      <hr>        
      <% books.forEach(book => { %>
        <div class="row py-2">
          <div class="col-lg-2">
            <img src="https://covers.openlibrary.org/b/isbn/<%= book.isbn %>-M.jpg" width="120px" class="img-fluid"/>
          </div>

          <div class="col-lg-4">
            <p class="mb-0"><%= book.title %></p>
            <p>by <%= book.author %></p>
            <p><em>Date read: <%= format(book.date_read, "MMM d, yyyy") %></em></p>
            
            <span><small><%= book.rating %></small></span>
            <span>
              <% for( let i = 0; i < Math.floor(book.rating); i++ ) { %>
                <i class="fa-solid fa-star me-n1" style="color: orange;"></i>
              <% } %>
              <% let remainder = 5 - book.rating %>
              <% if (remainder % 1 === 0) { %>
              <% for( let j = 0; j < remainder; j++ ) { %>
                <i class="fa-regular fa-star me-n1" style="color: orange;"></i>
              <% } %>
              <% } else { %>
                <i class="fa-solid fa-star-half-stroke me-n1" style="color: orange;"></i>
                <% for( let k = 0; k < Math.floor(remainder); k++ ) { %>
                  <i class="fa-regular fa-star me-n1" style="color: orange;"></i>
                <% } %>
              <% } %>
            </span>
            
          </div>

          <div class="col-lg-6">
            <p><%= book.review %></p>
          </div>
        </div>
        <hr>
      <% }) %>
    </section>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/f7b39fcb95.js" crossorigin="anonymous"></script>
</body>
</html>